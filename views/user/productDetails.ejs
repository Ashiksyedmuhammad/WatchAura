        <%- include('../user-layouts/header.ejs') %>



        <style>
            :root {
                --primary-color: #000000;
                --secondary-color: #3d464d;
                --accent-color: #E41E31;
                --text-color: #333333;
                --gray-color: #757575;
                --white-color: #ffffff;
                --border-color: #e5e7eb;
            }
            
            /* Product Gallery Section */
            .tf-main-product {
                padding: 60px 0;
                background-color: var(--white-color);
            }
            
            .tf-product-media-wrap {
                position: sticky;
                top: 20px;
                margin-bottom: 30px;
            }
            
            .thumbs-slider {
                display: flex;
                gap: 24px;
                max-width: 100%;
            }
            
            .tf-product-media-thumbs {
                width: 120px;
                height: 500px;
                overflow: hidden;
            }
            
            .tf-product-media-thumbs .swiper-slide {
                height: 120px;
                cursor: pointer;
                border-radius: 8px;
                overflow: hidden;
                border: 2px solid var(--border-color);
                transition: border-color 0.3s ease;
            }
            
            .tf-product-media-thumbs .swiper-slide:hover {
                border-color: var(--accent-color);
            }
            
            .tf-product-media-thumbs .swiper-slide.swiper-slide-thumb-active {
                border-color: var(--accent-color);
            }
            
            .tf-product-media-main {
                flex: 1;
                height: 600px;
                border-radius: 12px;
                overflow: hidden;
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            }
            
            .tf-image-zoom {
                width: 100%;
                height: 100%;
                object-fit: cover;
                transition: transform 0.3s ease;
            }
            
            .tf-image-zoom:hover {
                transform: scale(1.05);
            }
            
            /* Product Info Section */
            .tf-product-info-wrap {
                padding: 30px;
                background-color: var(--white-color);
                border-radius: 12px;
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            }
            
            .tf-product-info-title h4 {
                font-size: 32px;
                font-weight: 700;
                margin-bottom: 20px;
                color: var(--text-color);
                line-height: 1.2;
            }
            
            .tf-product-info-badges {
                display: flex;
                gap: 12px;
                margin-bottom: 24px;
            }
            
            .badges {
                background-color: var(--accent-color);
                color: var(--white-color);
                padding: 6px 12px;
                border-radius: 20px;
                font-size: 14px;
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            /* Price Styles */
            .price-container {
                display: flex;
                align-items: center;
                gap: 20px;
                padding: 16px 0;
                margin: 24px 0;
                border-top: 1px solid var(--border-color);
                border-bottom: 1px solid var(--border-color);
            }
            
            .price-wrapper {
                display: flex;
                align-items: baseline;
                gap: 12px;
            }
            
            .original-price {
                font-size: 1.25rem;
                color: var(--gray-color);
                text-decoration: line-through;
            }
            
            .offer-price {
                font-size: 2rem;
                color: var(--accent-color);
                font-weight: 700;
            }
            
            .regular-price {
                font-size: 2rem;
                color: var(--text-color);
                font-weight: 700;
            }
            
            .discount-badge {
                background-color: #fecaca;
                color: #dc2626;
                padding: 6px 12px;
                border-radius: 20px;
                font-size: 0.875rem;
                font-weight: 600;
            }
            
            /* Description */
            .tf-product-info-description {
                margin: 24px 0;
                padding: 24px 0;
                border-top: 1px solid var(--border-color);
            }
            
            .tf-product-info-description h1 {
                font-size: 20px;
                font-weight: 600;
                margin-bottom: 16px;
                color: var(--text-color);
            }
            
            .tf-product-info-description p {
                color: var(--gray-color);
                line-height: 1.6;
            }
            
            /* Quantity Section */
            .tf-product-info-quantity {
                margin: 24px 0;
            }
            
            .quantity-title {
                margin-bottom: 12px;
                font-weight: 600;
                color: var(--text-color);
            }
            
            #qty {
                width: 120px;
                padding: 12px;
                border: 2px solid var(--border-color);
                border-radius: 8px;
                font-size: 16px;
                transition: border-color 0.3s ease;
            }
            
            #qty:focus {
                outline: none;
                border-color: var(--accent-color);
            }
            
            /* Button Styles */
            .tf-product-info-buy-button {
                display: flex;
                gap: 16px;
                margin-top: 24px;
            }
            
            .btn-add-to-cart {
                flex: 1;
                padding: 16px 32px;
                background-color: var(--accent-color);
                color: var(--white-color);
                border: none;
                border-radius: 8px;
                font-weight: 600;
                font-size: 16px;
                cursor: pointer;
                transition: all 0.3s ease;
                text-align: center;
                text-decoration: none;
            }
            
            .btn-add-to-cart:hover {
                background-color: #c81e2b;
                transform: translateY(-2px);
            }
            
            .btn-add-to-cart:disabled {
                background-color: var(--gray-color);
                cursor: not-allowed;
            }
            
            .tf-product-btn-wishlist {
                padding: 16px;
                border: 2px solid var(--border-color);
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .tf-product-btn-wishlist:hover {
                border-color: var(--accent-color);
                color: var(--accent-color);
            }
            
            /* Related Products Section */
            .related-products {
                padding: 60px 0;
                background-color: #f9fafb;
            }
            
            .related-products h3 {
                font-size: 24px;
                font-weight: 600;
                margin-bottom: 32px;
                text-align: center;
                color: var(--text-color);
            }
            
            .product-card {
                background-color: var(--white-color);
                border-radius: 12px;
                overflow: hidden;
                transition: all 0.3s ease;
                height: 100%;
                display: flex;
                flex-direction: column;
            }
            
            .product-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            }
            
            .product-card img {
                width: 100%;
                height: 300px;
                object-fit: cover;
                transition: transform 0.3s ease;
            }
            
            .product-card:hover img {
                transform: scale(1.05);
            }
            
            .product-info {
                padding: 24px;
                text-align: center;
                flex-grow: 1;
                display: flex;
                flex-direction: column;
                gap: 12px;
            }
            
            .product-info h5 {
                font-size: 18px;
                font-weight: 600;
                color: var(--text-color);
                margin: 0;
            }
            
            .product-info p {
                font-size: 20px;
                font-weight: 600;
                color: var(--accent-color);
                margin: 0;
            }
            
            .product-info .btn {
                margin-top: auto;
                padding: 12px 24px;
                background-color: var(--primary-color);
                color: var(--white-color);
                text-decoration: none;
                border-radius: 6px;
                transition: background-color 0.3s ease;
                display: inline-block;
            }
            
            .product-info .btn:hover {
                background-color: var(--secondary-color);
            }
            
            .product-badge {
                position: absolute;
                top: 16px;
                right: 16px;
                background-color: var(--accent-color);
                color: var(--white-color);
                padding: 6px 12px;
                border-radius: 20px;
                font-size: 14px;
                font-weight: 600;
            }
            
            /* Responsive Design */
            @media (max-width: 768px) {
                .tf-main-product {
                    padding: 30px 0;
                }
            
                .tf-product-media-wrap {
                    position: static;
                }
            
                .thumbs-slider {
                    flex-direction: column-reverse;
                    gap: 16px;
                }
            
                .tf-product-media-thumbs {
                    width: 100%;
                    height: 100px;
                    display: flex;
                    gap: 12px;
                }
            
                .tf-product-media-thumbs .swiper-slide {
                    width: 100px !important;
                    height: 100px;
                }
            
                .tf-product-media-main {
                    height: 400px;
                }
            
                .tf-product-info-title h4 {
                    font-size: 24px;
                }
            
                .price-container {
                    flex-direction: column;
                    align-items: flex-start;
                    gap: 12px;
                }
            
                .tf-product-info-buy-button {
                    flex-direction: column;
                }
            
                .product-card img {
                    height: 250px;
                }
            }
            </style>

            <style>
                .related-products {
            padding: 40px 0;
        }

        .related-products h3 {
            margin-bottom: 20px;
        }

        .product-card {
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            text-align: center;
            position: relative;
        }

        .product-card img {
            width: 100%;
            max-width: 200px;
            margin-bottom: 10px;
            border-radius: 5px;
        }

        .product-info h5 {
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .product-info p {
            font-size: 1rem;
            color: #333;
        }

        .product-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: #ff5722;
            color: white;
            padding: 5px 10px;
            font-size: 0.8rem;
            border-radius: 5px;
        }
        
            </style>

            </head>

            <body class="preload-wrapper">
                <!-- preload -->
                <!-- <div class="preload preload-container">
                <div class="preload-logo">
                    <div class="spinner"></div>
                </div>
            </div> -->
                <!-- /preload -->
                <div id="wrapper">
                    <!-- Top bar -->
                    <div class="tf-top-bar bg_white line">
                        <div class="px_15 lg-px_40">

                        </div>
                    </div>
                    <!-- /Top bar -->
                    <!-- Header -->
                    <header id="header" class="header-default">
                        <div class="px_15 lg-px_40">
                            <div class="row wrapper-header align-items-center">
                                <div class="col-md-4 col-3 tf-lg-hidden">
                                    <a href="#mobileMenu" data-bs-toggle="offcanvas" aria-controls="offcanvasLeft">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="16" viewBox="0 0 24 16"
                                            fill="none">
                                            <path
                                                d="M2.00056 2.28571H16.8577C17.1608 2.28571 17.4515 2.16531 17.6658 1.95098C17.8802 1.73665 18.0006 1.44596 18.0006 1.14286C18.0006 0.839753 17.8802 0.549063 17.6658 0.334735C17.4515 0.120408 17.1608 0 16.8577 0H2.00056C1.69745 0 1.40676 0.120408 1.19244 0.334735C0.978109 0.549063 0.857702 0.839753 0.857702 1.14286C0.857702 1.44596 0.978109 1.73665 1.19244 1.95098C1.40676 2.16531 1.69745 2.28571 2.00056 2.28571ZM0.857702 8C0.857702 7.6969 0.978109 7.40621 1.19244 7.19188C1.40676 6.97755 1.69745 6.85714 2.00056 6.85714H22.572C22.8751 6.85714 23.1658 6.97755 23.3801 7.19188C23.5944 7.40621 23.7148 7.6969 23.7148 8C23.7148 8.30311 23.5944 8.59379 23.3801 8.80812C23.1658 9.02245 22.8751 9.14286 22.572 9.14286H2.00056C1.69745 9.14286 1.40676 9.02245 1.19244 8.80812C0.978109 8.59379 0.857702 8.30311 0.857702 8ZM0.857702 14.8571C0.857702 14.554 0.978109 14.2633 1.19244 14.049C1.40676 13.8347 1.69745 13.7143 2.00056 13.7143H12.2863C12.5894 13.7143 12.8801 13.8347 13.0944 14.049C13.3087 14.2633 13.4291 14.554 13.4291 14.8571C13.4291 15.1602 13.3087 15.4509 13.0944 15.6653C12.8801 15.8796 12.5894 16 12.2863 16H2.00056C1.69745 16 1.40676 15.8796 1.19244 15.6653C0.978109 15.4509 0.857702 15.1602 0.857702 14.8571Z"
                                                fill="currentColor"></path>
                                        </svg>
                                    </a>
                                </div>
                                <div class="col-xl-3 col-md-4 col-6">
                                    <a href="index.html" class="logo-header">
                                        <img src="/assets/images/logo/WL.png" alt="logo" class="logo" style="width: 100px;">
                                    </a>
                                </div>
                                <div class="col-xl-6 col-md-6 d-none d-md-flex justify-content-center">
                                    <nav class="box-navigation text-center">
                                        <ul class="box-nav-ul d-flex align-items-center justify-content-center gap-3">
                                            <li class="menu-item">
                                                <a href="/" class="item-link">Home<i class="icon icon-arrow-down ms-1"></i></a>
                                            </li>
                                            <li class="menu-item">
                                                <a href="/shop" class="item-link">Shop<i class="icon icon-arrow-down ms-1"></i></a>
                                            </li>
                                            <li class="menu-item">
                                                <a href="#" class="item-link">About<i class="icon icon-arrow-down ms-1"></i></a>
                                            </li>
                                            <li class="menu-item">
                                                <a href="#" class="item-link">Contact<i class="icon icon-arrow-down ms-1"></i></a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                                <div class="col-xl-3 col-md-6 col-6 d-flex justify-content-end">
                                    <ul class="nav-icon d-flex align-items-center gap-3">
                                       
                                        <% if(locals.userData){ %>
                                            <li class="nav-user">
                                                <a href="/profile" class="nav-icon-item">
                                                    <p class="mb-0"><%= locals.userData?.firstName %></p>
                                                </a>
                                            </li>
                                            <li class="nav-logout">
                                                <form action="/logout" method="POST" class="d-inline">
                                                    <button type="submit" class="btn-logout" style="background: none; border: none; padding: 0;">
                                                        <i class="icon icon-logout"></i> 
                                                    </button>
                                                </form>
                                            </li>
                                        <% } else { %>
                                            <li class="nav-account">
                                                <a href="#login" data-bs-toggle="modal" class="nav-icon-item">
                                                    <i class="icon icon-account"></i> 
                                                </a>
                                            </li>
                                        <% } %>
                                        <li class="nav-wishlist">
                                            <a href="/wishlist" class="nav-icon-item">
                                              <i class="icon icon-heart"></i>
                                            </a>
                                          </li>
                                      
                                        <li class="nav-cart">
                                            <a href="/cart" class="nav-icon-item">
                                                <i class="icon icon-bag"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                
                            </div>
                        </div>
                    </header>

                    <section class="flat-spacing-4 pt_0">
                        <div class="tf-main-product section-image-zoom">
                            <div class="container">
                                <div class="row">
                                    <!-- Product Gallery -->
                                    <div class="col-md-6">
                                        <div class="tf-product-media-wrap sticky-top">
                                            <div class="thumbs-slider">
                                            <% 
                                            function calculateBestOffer(product, offers) {
                                            let bestDiscount = 0;
                                            let hasDiscount = false;
                                            let discountedPrice = product.price;
                                            
                                            // Check product-specific offers first
                                            const productOffers = offers.filter(offer => 
                                                offer.status === 'active' && 
                                                offer.type === 'PRODUCT' &&
                                                offer.products.some(p => String(p._id) === String(product._id))
                                            );

                                            // Find best product-specific discount
                                            productOffers.forEach(offer => {
                                                if (offer.discount > bestDiscount) {
                                                bestDiscount = offer.discount;
                                                hasDiscount = true;
                                                discountedPrice = product.price * (1 - bestDiscount / 100);
                                                }
                                            });

                                            // Check category offers if no better product offer found
                                            const categoryOffers = offers.filter(offer => 
                                                offer.status === 'active' && 
                                                offer.type === 'CATEGORY' &&
                                                offer.categories.some(cat => String(cat._id) === String(product.category._id))
                                            );

                                            // Find best category discount
                                            categoryOffers.forEach(offer => {
                                                if (offer.discount > bestDiscount) {
                                                bestDiscount = offer.discount;
                                                hasDiscount = true;
                                                discountedPrice = product.price * (1 - bestDiscount / 100);
                                                }
                                            });

                                            return {
                                                hasDiscount,
                                                bestDiscount,
                                                discountedPrice: Math.round(discountedPrice * 100) / 100 // Round to 2 decimal places
                                            };
                                            }
                                        %>
                                                <!-- Thumbnail Slider -->
                                                <div class="swiper tf-product-media-thumbs other-image-zoom swiper-vertical" data-direction="vertical">
                                                    <div class="swiper-wrapper stagger-wrap">
                                                        <% product.images.forEach((image, index) => { %>
                                                            <div class="swiper-slide stagger-item" role="group" aria-label="<%= index + 1 %> / <%= product.images.length %>">
                                                                <div class="item">
                                                                    <img class="lazyload" data-src="/uploads/<%= image %>" src="/uploads/<%= image %>" alt="Product image <%= index + 1 %>">
                                                                </div>
                                                            </div>
                                                        <% }) %>
                                                    </div>
                                                </div>
                                                
                                                <!-- Main Slider -->
                                                <div class="swiper tf-product-media-main" id="gallery-swiper-started">
                                                    <div class="swiper-wrapper">
                                                        <% product.images.forEach((image, index) => { %>
                                                            <div class="swiper-slide" role="group" aria-label="<%= index + 1 %> / <%= product.images.length %>">
                                                                <img class="tf-image-zoom lazyload" data-zoom="/uploads/<%= image %>" data-src="/uploads/<%= image %>" src="/uploads/<%= image %>" alt="Product image <%= index + 1 %>">
                                                            </div>
                                                        <% }) %>
                                                    </div>
                                                    <div class="swiper-button-next button-style-arrow thumbs-next"></div>
                                                    <div class="swiper-button-prev button-style-arrow thumbs-prev"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                
                                    <!-- Product Info -->
                                    <div class="col-md-6">
                                        <div class="tf-product-info-wrap">
                                            <div class="tf-product-info-list">  
                                                <div class="tf-product-info-title">
                                                    <h4><%= product.productName %></h4>
                                                </div>
                                                
                                                <div class="tf-product-info-badges">
                                                    <div class="badges">Best seller</div>
                                                </div>
                
                                                <!-- Price Section -->
                                            <!-- Price Section -->
                                                <div class="price-container">
                                                    <% 
                                                            const offerResult = calculateBestOffer(product, offers);
                                                            %>
                                                    <% if (offerResult ) { %>
                                                        <div class="price-wrapper">
                                                            <span class="original-price">₹<%= product.price %></span>
                                                            <span class="offer-price">₹<%= offerResult.discountedPrice %></span>
                                                        </div>
                                                        <div class="discount-badge">
                                                            <%= offerResult.bestDiscount %>% OFF
                                                            
                                                        </div>
                                                      
                                                       
                                                            
                                                        </span>
                                                        <% } else { %>
                                                            <span class="regular-price">₹<%= product.price %></span>
                                                            <% } %>
                                                    
                                            



                                                </div>
                
                                                <!-- Description -->
                                                <div class="tf-product-info-description">
                                                    <h1 >Description</h1>
                                                    <p><%= product.description %></p>
                                                </div>
                                            
                                                <!-- Quantity Selection -->
                                                <div class="tf-product-info-quantity" hidden>
                                                    <div class="quantity-title fw-6">Quantity</div>
                                                    <%if(product.stock > 5) {%>
                                                        <input type="number" id="qty" class="form-control" value="1" min="1" max="5" step="1" data-decimals="0" required>
                                                    <%} else {%>
                                                        <input type="number" id="qty" class="form-control" value="1" min="1" max="</%=product.stock%>" step="1" data-decimals="0" required>
                                                    <%}%>
                                                </div>
                
                                                <!-- Action Buttons -->
                                                <div class="tf-product-info-buy-button">
                                                    <% if(locals.userData && locals.userData[0]?.firstName ) { %>
                                                        <%if (product.stock<=0){%>
                                                            <span class="offer-price">Out Of Stock</span>
                                                            <button class="btn-add-to-cart" data-product-id="<%= product._id %>" data-user-id="<%= locals.userData[0]?._id %> " disabled>
                                                                Add to Cart
                                                            </button>    
                                                            <%}else{%>
                                                        <button class="btn-add-to-cart" data-product-id="<%= product._id %>" data-user-id="<%= locals.userData[0]?._id %>">
                                                            Add to Cart
                                                        </button><%}%>
                                                    <% } else { %>
                                                        <a href="" class="btn-add-to-cart">
                                                            <span>Add to cart</span>
                                                        </a>
                                                    <% } %>
                                                    <!-- <a href="javascript:void(0);" class="tf-product-btn-wishlist">
                                                        <span class="icon icon-heart"></span>
                                                    </a> -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                
                    <!-- Related Products Section -->
                    <section class="related-products text-center">
                        <div class="container">
                            <h3>Related Products</h3>
                            <div class="row justify-content-center">
                                <% relatedProducts.forEach(relatedProduct => { %>
                                    <div class="col-lg-3 col-md-4 col-sm-6 d-flex justify-content-center">
                                        <div class="product-card text-center">
                                            <img src="/uploads/<%= relatedProduct.images[0] %>" alt="<%= relatedProduct.productName %>">
                                            <div class="product-info">
                                                <h5><%= relatedProduct.productName %></h5>
                                                <p>₹<%= relatedProduct.price.toLocaleString('en-IN') %></p>
                                                <a href="/product/<%= relatedProduct._id %>" class="btn">View Details</a>
                                            </div>
                                            <% if (relatedProduct.isNew) { %>
                                                <span class="product-badge">New</span>
                                            <% } %>
                                        </div>
                                    </div>
                                <% }) %>
                            </div>
                        </div>
                    </section>
                    

                <footer id="footer" class="footer">
                    <div class="footer-wrap">
                        <div class="footer-body">
                            <div class="container">
                                <div class="row">
                                    <div class="col-xl-3 col-md-6 col-12">
                                        <div class="footer-infor">
                                            <div class="footer-logo">
                                                <a href="index.html">
                                                    <img src="images/logo/logo.svg" alt="">
                                                </a>
                                            </div>
                                            <ul>
                                                <li>
                                                    <p>Address: 1234 Fashion Street, Suite 567, <br> New York, NY 10001</p>
                                                </li>
                                                <li>
                                                    <p>Email: <a href="#">info@fashionshop.com</a></p>
                                                </li>
                                                <li>
                                                    <p>Phone: <a href="#">(212) 555-1234</a></p>
                                                </li>
                                            </ul>
                                            <a href="contact-1.html" class="tf-btn btn-line">Get direction<i
                                                    class="icon icon-arrow1-top-left"></i></a>
                                            <ul class="tf-social-icon d-flex gap-10">
                                                <li><a href="#" class="box-icon w_34 round social-facebook border-line-black"><i
                                                            class="icon fs-14 icon-fb"></i></a></li>
                                                <li><a href="#" class="box-icon w_34 round social-twiter border-line-black"><i
                                                            class="icon fs-12 icon-Icon-x"></i></a></li>
                                                <li><a href="#"
                                                        class="box-icon w_34 round social-instagram border-line-black"><i
                                                            class="icon fs-14 icon-instagram"></i></a></li>
                                                <li><a href="#" class="box-icon w_34 round social-tiktok border-line-black"><i
                                                            class="icon fs-14 icon-tiktok"></i></a></li>
                                                <li><a href="#"
                                                        class="box-icon w_34 round social-pinterest border-line-black"><i
                                                            class="icon fs-14 icon-pinterest-1"></i></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col-xl-3 col-md-6 col-12 footer-col-block">
                                        <div class="footer-heading footer-heading-desktop">
                                            <h6>Help</h6>
                                        </div>
                                        <div class="footer-heading footer-heading-moblie">
                                            <h6>Help</h6>
                                        </div>
                                        <ul class="footer-menu-list tf-collapse-content">
                                            <li>
                                                <a href="privacy-policy.html" class="footer-menu_item">Privacy Policy</a>
                                            </li>
                                            <li>
                                                <a href="delivery-return.html" class="footer-menu_item"> Returns + Exchanges
                                                </a>
                                            </li>
                                            <li>
                                                <a href="shipping-delivery.html" class="footer-menu_item">Shipping</a>
                                            </li>
                                            <li>
                                                <a href="terms-conditions.html" class="footer-menu_item">Terms &amp;
                                                    Conditions</a>
                                            </li>
                                            <li>
                                                <a href="faq-1.html" class="footer-menu_item">FAQ’s</a>
                                            </li>
                                            <li>
                                                <a href="compare.html" class="footer-menu_item">Compare</a>
                                            </li>
                                            <li>
                                                <a href="wishlist.html" class="footer-menu_item">My Wishlist</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="col-xl-3 col-md-6 col-12 footer-col-block">
                                        <div class="footer-heading footer-heading-desktop">
                                            <h6>About us</h6>
                                        </div>
                                        <div class="footer-heading footer-heading-moblie">
                                            <h6>About us</h6>
                                        </div>
                                        <ul class="footer-menu-list tf-collapse-content">
                                            <li>
                                                <a href="about-us.html" class="footer-menu_item">Our Story</a>
                                            </li>
                                            <li>
                                                <a href="our-store.html" class="footer-menu_item">Visit Our Store</a>
                                            </li>
                                            <li>
                                                <a href="contact-1.html" class="footer-menu_item">Contact Us</a>
                                            </li>
                                            <li>
                                                <a href="login.html" class="footer-menu_item">Account</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="col-xl-3 col-md-6 col-12">
                                        <div class="footer-newsletter footer-col-block">
                                            <div class="footer-heading footer-heading-desktop">
                                                <h6>Sign Up for Email</h6>
                                            </div>
                                            <div class="footer-heading footer-heading-moblie">
                                                <h6>Sign Up for Email</h6>
                                            </div>
                                            <div class="tf-collapse-content">
                                                <div class="footer-menu_item">Sign up to get first dibs on new arrivals, sales,
                                                    exclusive content, events and more!</div>
                                                <form class="form-newsletter" id="subscribe-form" action="#" method="post"
                                                    accept-charset="utf-8" data-mailchimp="true">
                                                    <div id="subscribe-content">
                                                        <fieldset class="email">
                                                            <input type="email" name="email-form" id="subscribe-email"
                                                                placeholder="Enter your email...." tabindex="0"
                                                                aria-required="true">
                                                        </fieldset>
                                                        <div class="button-submit">
                                                            <button id="subscribe-button"
                                                                class="tf-btn btn-sm radius-3 btn-fill btn-icon animate-hover-btn"
                                                                type="button">Subscribe<i
                                                                    class="icon icon-arrow1-top-left"></i></button>
                                                        </div>
                                                    </div>
                                                    <div id="subscribe-msg"></div>
                                                </form>
                                                <div class="tf-cur">
                                                    <div class="tf-currencies">
                                                        <div
                                                            class="dropdown bootstrap-select image-select center style-default type-currencies">
                                                            <select class="image-select center style-default type-currencies">
                                                                <option data-thumbnail="images/country/fr.svg"
                                                                    data-content="<img src='images/country/fr.svg'/> EUR € | France">
                                                                    EUR € | France</option>
                                                                <option data-thumbnail="images/country/de.svg"
                                                                    data-content="<img src='images/country/de.svg'/> EUR € | Germany">
                                                                    EUR € | Germany</option>
                                                                <option selected="" data-thumbnail="images/country/us.svg"
                                                                    data-content="<img src='images/country/us.svg'/> USD $ | United States">
                                                                    USD $ | United States</option>
                                                                <option data-thumbnail="images/country/vn.svg"
                                                                    data-content="<img src='images/country/vn.svg'/> VND ₫ | Vietnam">
                                                                    VND ₫ | Vietnam</option>
                                                            </select><button type="button" tabindex="-1"
                                                                class="btn dropdown-toggle btn-light" data-bs-toggle="dropdown"
                                                                role="combobox" aria-owns="bs-select-1" aria-haspopup="listbox"
                                                                aria-expanded="false" title="USD $ | United States">
                                                                <div class="filter-option">
                                                                    <div class="filter-option-inner">
                                                                        <div class="filter-option-inner-inner"><img
                                                                                src="images/country/us.svg"> USD $ | United
                                                                            States</div>
                                                                    </div>
                                                                </div>
                                                            </button>
                                                            <div class="dropdown-menu ">
                                                                <div class="inner show" role="listbox" id="bs-select-1"
                                                                    tabindex="-1">
                                                                    <ul class="dropdown-menu inner show" role="presentation">
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="footer-bottom">
                            <div class="container">
                                <div class="row">
                                    <div class="col-12">
                                        <div
                                            class="footer-bottom-wrap d-flex gap-20 flex-wrap justify-content-between align-items-center">
                                            <div class="footer-menu_item">© 2024 Ecomus Store. All Rights Reserved</div>
                                            <div class="tf-payment">
                                                <img src="images/payments/visa.png" alt="">
                                                <img src="images/payments/img-1.png" alt="">
                                                <img src="images/payments/img-2.png" alt="">
                                                <img src="images/payments/img-3.png" alt="">
                                                <img src="images/payments/img-4.png" alt="">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </footer>
                <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
                <script src="https://cdn.jsdelivr.net/npm/notyf/notyf.min.js"></script>
                <script src="path/to/jquery.min.js"></script>
                <script src="path/to/bootstrap.min.js"></script>

                <script src="path/to/your-main.js"></script>
                <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
            
            
                <script>
            
                document.addEventListener('DOMContentLoaded', function() {
                    
                    const thumbsSwiper = new Swiper('.tf-product-media-thumbs', {
                        direction: 'vertical',
                        slidesPerView: 'auto',
                        spaceBetween: 10,
                        watchSlidesProgress: true,
                    });

                
                    const mainSwiper = new Swiper('.tf-product-media-main', {
                        spaceBetween: 10,
                        navigation: {
                            nextEl: '.swiper-button-next',
                            prevEl: '.swiper-button-prev',
                        },
                        thumbs: {
                            swiper: thumbsSwiper,
                        },
                    });

                
                    $('.tf-image-zoom').each(function() {
                        $(this).zoom({
                            url: $(this).attr('src'),
                            magnify: 1.5
                        });
                    });
                });

                // Add to Cart 
                document.querySelectorAll('.btn-add-to-cart').forEach(button => {
                    button.addEventListener('click', async function() {
                        const productId = this.getAttribute('data-product-id');
                        const userId = this.getAttribute('data-user-id');
                        const quantity = document.getElementById('qty').value;

                        try {
                            const response = await fetch('/addCartItem', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                },
                                body: JSON.stringify({ productId, quantity, userId }),
                            });
                            
                            const data = await response.json();
                            
                            if (data.success) {
                                Swal.fire({
                                    title: 'Success!',
                                    text: "Product Added To Cart",
                                    icon: 'success',
                                    confirmButtonText: 'OK'
                                });
                            } else {
                                Swal.fire({
                                    title: 'Info',
                                    text: data.message,
                                    icon: 'info',
                                    confirmButtonText: 'OK'
                                });
                            }
                        } catch (error) {
                            console.error('Error adding to cart:', error);
                        }
                    });
                });
            </script>

                <%- include('../user-layouts/footer.ejs') %>